<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MindShift OS - Advanced Cognitive Architecture for Critical Thinking.">
    <title>MindShiftâ€” Cognitive Architecture v0.0.1</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=JetBrains+Mono:wght@100;400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        void: '#050505',
                        midnight: '#0B0F19',
                        panel: '#111625',
                        surface: '#1A1F2E',
                        neonBlue: '#00f3ff',
                        neonPurple: '#bc13fe',
                        neonTeal: '#2DD4BF',
                        neonRed: '#ff2a6d',
                        neonGreen: '#00ff9d',
                        neonYellow: '#ffeb3b',
                        glass: 'rgba(255, 255, 255, 0.03)',
                        glassBorder: 'rgba(255, 255, 255, 0.08)',
                        terminalGreen: '#0f0',
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                        'cyber-grid': "url('data:image/svg+xml,%3Csvg width=\"40\" height=\"40\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cpath d=\"M0 0h40v40H0z\" fill=\"none\"/%3E%3Cpath d=\"M0 0h40v1H0zM0 0v40h1V0z\" fill=\"rgba(0, 243, 255, 0.03)\"/%3E%3C/svg%3E')",
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out forwards',
                        'slide-up': 'slideUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards',
                        'slide-in-right': 'slideInRight 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'scanline': 'scanline 8s linear infinite',
                        'spin-slow': 'spin 12s linear infinite',
                        'glitch': 'glitch 1s linear infinite',
                        'blink': 'blink 1s step-end infinite',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { transform: 'translateY(40px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
                        slideInRight: { '0%': { transform: 'translateX(100%)' }, '100%': { transform: 'translateX(0)' } },
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } },
                        scanline: { '0%': { transform: 'translateY(-100%)' }, '100%': { transform: 'translateY(100%)' } },
                        blink: { '0%, 100%': { opacity: '1' }, '50%': { opacity: '0' } },
                        glitch: {
                            '0%': { transform: 'translate(0)' },
                            '20%': { transform: 'translate(-2px, 2px)' },
                            '40%': { transform: 'translate(-2px, -2px)' },
                            '60%': { transform: 'translate(2px, 2px)' },
                            '80%': { transform: 'translate(2px, -2px)' },
                            '100%': { transform: 'translate(0)' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* --- ROOT VARIABLES --- */
        :root {
            --cursor-size: 400px;
            --cursor-color: rgba(0, 243, 255, 0.06);
            --grid-color: rgba(255, 255, 255, 0.03);
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
        }

        /* --- BASE RESET --- */
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            background-color: #030508;
            color: #E2E8F0;
            overflow-x: hidden; /* Prevent horizontal scrollbar glitch */
            perspective: 1200px;
            cursor: crosshair; /* Tactical feel */
            scroll-behavior: smooth;
        }

        /* --- FOCUS MODE (ZEN) --- */
        body.focus-mode .cinematic-layer { opacity: 0 !important; pointer-events: none; }
        body.focus-mode nav { background: #030508; border-bottom: 1px solid #1f2937; }
        body.focus-mode main { padding-top: 80px; }
        body.focus-mode .glass-panel { background: #0B0F19; border: 1px solid #1f2937; box-shadow: none; backdrop-filter: none; }
        body.focus-mode #cursor { display: none; }

        /* --- CINEMATIC LAYERS --- */
        .cinematic-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; transition: opacity 0.8s ease; z-index: 0;
        }

        .noise-overlay {
            z-index: 1; opacity: 0.03;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNjUiIG51bW9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjbm9pc2UpIiBvcGFjaXR5PSIxIi8+PC9zdmc+');
        }

        .cyber-grid {
            z-index: 0;
            background-image: 
                linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
                linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
            background-size: 50px 50px;
            transform: perspective(600px) rotateX(60deg) scale(2);
            transform-origin: center top;
            opacity: 0.4;
            animation: gridFly 60s linear infinite;
        }

        @keyframes gridFly {
            0% { transform: perspective(600px) rotateX(60deg) scale(2) translateY(0); }
            100% { transform: perspective(600px) rotateX(60deg) scale(2) translateY(50px); }
        }

        /* --- UI COMPONENT: GLASS PANEL --- */
        .glass-panel {
            background: rgba(17, 22, 37, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6);
            transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
        }
        
        .glass-panel:hover {
            border-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 35px 70px -15px rgba(0, 0, 0, 0.7);
        }

        /* --- 3D TILT PHYSICS --- */
        .tilt-card {
            transition: transform 0.1s cubic-bezier(0.03, 0.98, 0.52, 0.99);
            transform-style: preserve-3d;
            will-change: transform; /* Performance optimization */
        }
        .tilt-inner { transform: translateZ(30px); }

        /* --- CUSTOM SCROLLBAR --- */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #030508; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; border: 1px solid #030508; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }

        /* --- CURSOR FX --- */
        #cursor {
            width: var(--cursor-size); height: var(--cursor-size);
            background: radial-gradient(circle, var(--cursor-color), transparent 60%);
            position: fixed; border-radius: 50%; pointer-events: none;
            transform: translate(-50%, -50%); z-index: 9999;
            mix-blend-mode: screen; transition: opacity 0.3s ease;
        }

        /* --- UTILITIES --- */
        .neon-text-blue { text-shadow: 0 0 15px rgba(0, 243, 255, 0.5); }
        .neon-text-purple { text-shadow: 0 0 15px rgba(188, 19, 254, 0.5); }
        
        /* Loading Bar Animation */
        .loader-bar {
            width: 100%; height: 100%;
            background: repeating-linear-gradient(45deg, #00f3ff, #00f3ff 10px, #00c3cc 10px, #00c3cc 20px);
            animation: stripeMove 1s linear infinite;
        }
        @keyframes stripeMove { 0% { background-position: 0 0; } 100% { background-position: 28px 0; } }

        /* Hide Scrollbar Utility */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Text Selection */
        ::selection { background: rgba(0, 243, 255, 0.3); color: #fff; }

        /* Chart Container Fix */
        .chart-container { position: relative; height: 250px; width: 100%; }
    </style>
</head>
<body onload="System.bootSequence()">

    <canvas id="particle-canvas" class="cinematic-layer opacity-40"></canvas>
    <div class="noise-overlay cinematic-layer"></div>
    <div class="cyber-grid cinematic-layer"></div>
    <div id="cursor"></div>

    <nav class="fixed w-full z-50 top-0 py-4 px-6 transition-all duration-300 backdrop-blur-md border-b border-white/5" id="main-nav">
        <div class="max-w-[1600px] mx-auto glass-panel rounded-full px-6 py-3 flex justify-between items-center relative z-50">
            
            <div class="flex items-center gap-4 group cursor-pointer" onclick="window.scrollTo({top:0, behavior:'smooth'})">
                <div class="relative w-8 h-8 flex items-center justify-center">
                    <div class="w-3 h-3 rounded-full bg-neonBlue animate-pulse shadow-[0_0_15px_#00f3ff] relative z-10"></div>
                    <div class="absolute inset-0 bg-neonBlue rounded-full animate-ping opacity-20"></div>
                    <i class="fa-solid fa-circle-nodes absolute text-[8px] text-neonBlue opacity-50 animate-spin-slow"></i>
                </div>
                <div class="flex flex-col">
                    <span class="font-display font-bold text-lg tracking-widest text-white uppercase leading-none group-hover:text-neonBlue transition-colors">
                        Mind<span class="text-neonBlue">Shift</span>
                    </span>
                    <span class="text-[9px] text-gray-500 font-mono tracking-[0.3em]">  By Slytherin Group</span>
                </div>
            </div>
            
            <div class="hidden lg:flex gap-8 items-center bg-black/20 px-6 py-2 rounded-full border border-white/5">
                <a href="#engine" class="text-[10px] font-bold text-gray-400 hover:text-white uppercase tracking-widest transition-all hover:scale-105">Engine</a>
                <a href="#library" class="text-[10px] font-bold text-gray-400 hover:text-white uppercase tracking-widest transition-all hover:scale-105">Library</a>
                <a href="#analytics" class="text-[10px] font-bold text-gray-400 hover:text-white uppercase tracking-widest transition-all hover:scale-105">Analytics</a>
                
                <div class="h-4 w-px bg-gray-700 mx-2"></div>

                <button onclick="System.toggleFocusMode()" id="focus-btn" class="flex items-center gap-2 px-3 py-1 rounded-full border border-gray-700 bg-black/40 text-[9px] font-mono font-bold text-gray-400 hover:text-white hover:border-neonBlue transition-all group active:scale-95">
                    <i class="fa-solid fa-eye group-hover:text-neonBlue"></i> 
                    <span id="focus-text">ZEN: OFF</span>
                </button>
            </div>

            <div class="flex items-center gap-5 cursor-pointer group" onclick="UI.toggleProfilePanel()">
                <div class="hidden md:block text-right">
                    <div class="flex items-center justify-end gap-2 mb-0.5">
                        <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                        <p class="text-[9px] text-neonGreen uppercase tracking-widest font-mono">Connected</p>
                    </div>
                    <p class="text-xs font-bold text-white group-hover:text-neonBlue transition-colors font-mono" id="nav-username">Operative_01</p>
                </div>
                <div class="relative">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-black border border-gray-600 overflow-hidden group-hover:border-neonBlue transition-colors shadow-lg">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=b6e3f4" alt="Avatar" id="nav-avatar">
                    </div>
                    <div class="absolute -top-1 -right-1 w-3 h-3 bg-neonRed rounded-full border border-black flex items-center justify-center">
                        <span class="text-[8px] font-bold text-black">1</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="pt-32 pb-20 px-4 min-h-screen relative z-10">
        
        <section class="max-w-[1600px] mx-auto mb-24">
            <div class="flex flex-col xl:flex-row justify-between items-end gap-10 mb-12 opacity-0 animate-slide-up" style="animation-delay: 0.1s;">
                
                <div class="max-w-4xl">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="inline-flex items-center justify-center px-3 py-1 rounded bg-neonBlue/10 border border-neonBlue/30 text-neonBlue font-mono text-[10px] tracking-widest uppercase">
                            <i class="fa-solid fa-satellite-dish mr-2 animate-pulse"></i> Uplink Established
                        </span>
                        <span class="text-gray-500 font-mono text-xs" id="system-date">DATE: CALCULATING...</span>
                    </div>
                    <h1 class="font-display text-5xl md:text-7xl font-bold tracking-tight text-white mb-6 leading-[1.1]">
                        Do Not Memorize.<br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-neonBlue via-white to-neonPurple neon-text-blue">Deconstruct Reality.</span>
                    </h1>
                    <p class="text-gray-400 font-light text-xl max-w-2xl leading-relaxed">
                        The world rewards clarity, not recall. This architecture upgrades your cognitive processing speed, logic detection, and bias removal through rigorous simulation.
                    </p>
                    
                    <div class="flex gap-4 mt-10">
                        <button onclick="document.getElementById('engine').scrollIntoView({behavior: 'smooth'})" class="px-8 py-4 bg-white text-black font-bold uppercase tracking-widest hover:bg-neonBlue transition-all hover:scale-105 shadow-[0_0_20px_rgba(255,255,255,0.3)] text-xs rounded-sm">
                            Initiate Sequence
                        </button>
                        <button onclick="UI.toggleProfilePanel()" class="px-8 py-4 border border-gray-600 text-gray-300 font-bold uppercase tracking-widest hover:border-white hover:text-white transition-all text-xs rounded-sm">
                            View Neural Profile
                        </button>
                    </div>
                </div>

                <div class="flex gap-6 w-full xl:w-auto overflow-x-auto pb-4 xl:pb-0 no-scrollbar">
                    
                    <div class="glass-panel p-6 rounded-2xl flex flex-col items-center min-w-[160px] tilt-card group cursor-pointer border border-gray-800 hover:border-neonBlue/50 transition-colors" data-tilt>
                        <span class="text-[10px] text-gray-500 font-bold uppercase tracking-widest group-hover:text-neonBlue transition-colors">Daily Streak</span>
                        <div class="relative mt-4">
                            <svg class="w-16 h-16 transform -rotate-90">
                                <circle cx="32" cy="32" r="28" stroke="#1f2937" stroke-width="4" fill="none" />
                                <circle cx="32" cy="32" r="28" stroke="#00f3ff" stroke-width="4" fill="none" stroke-dasharray="175" stroke-dashoffset="40" stroke-linecap="round" class="drop-shadow-[0_0_10px_rgba(0,243,255,0.5)]" />
                            </svg>
                            <span class="absolute inset-0 flex items-center justify-center font-display font-bold text-2xl text-white">4</span>
                        </div>
                        <span class="text-[10px] text-gray-400 mt-4">Target: 7 Days</span>
                    </div>

                    <div class="glass-panel p-6 rounded-2xl flex flex-col items-center min-w-[160px] tilt-card group cursor-pointer border border-gray-800 hover:border-neonPurple/50 transition-colors" data-tilt>
                        <span class="text-[10px] text-gray-500 font-bold uppercase tracking-widest group-hover:text-neonPurple transition-colors">Cognitive Rank</span>
                        <span class="text-4xl font-display font-bold text-neonPurple mt-4 mb-2 drop-shadow-[0_0_10px_rgba(188,19,254,0.5)]">Lvl 3</span>
                        <span class="text-[10px] text-gray-300 uppercase tracking-widest">Strategist</span>
                        <div class="w-full h-1 bg-gray-800 rounded-full mt-4 overflow-hidden">
                            <div class="h-full bg-neonPurple w-[70%]"></div>
                        </div>
                    </div>

                    <div class="glass-panel p-6 rounded-2xl flex flex-col items-center min-w-[160px] tilt-card group cursor-pointer border border-gray-800 hover:border-neonGreen/50 transition-colors" data-tilt>
                        <span class="text-[10px] text-gray-500 font-bold uppercase tracking-widest group-hover:text-neonGreen transition-colors">Logic Accuracy</span>
                        <span class="text-4xl font-display font-bold text-neonGreen mt-4 mb-2 drop-shadow-[0_0_10px_rgba(0,255,157,0.5)]">92%</span>
                        <span class="text-[10px] text-gray-300 uppercase tracking-widest">Last Session</span>
                        <span class="text-[9px] text-green-500 mt-2 flex items-center gap-1"><i class="fa-solid fa-arrow-up"></i> +4%</span>
                    </div>
                </div>
            </div>

            <div class="border-b border-gray-800 pb-1 mb-8 opacity-0 animate-slide-up" style="animation-delay: 0.3s;">
                <div class="flex overflow-x-auto gap-3 no-scrollbar py-2" id="skill-container">
                    </div>
            </div>
        </section>

        <section id="engine" class="max-w-[1600px] mx-auto grid lg:grid-cols-12 gap-8 mb-40 opacity-0 animate-slide-up" style="animation-delay: 0.4s;">
            
            <div class="lg:col-span-3 space-y-6">
                <div class="glass-panel p-8 rounded-2xl border-l-2 border-neonBlue relative overflow-hidden tilt-card" data-tilt>
                    <div class="absolute -right-12 -top-12 w-48 h-48 bg-neonBlue/10 rounded-full blur-3xl"></div>
                    
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-8 h-8 rounded bg-neonBlue/20 flex items-center justify-center text-neonBlue border border-neonBlue/30">
                            <i class="fa-solid fa-microchip"></i>
                        </div>
                        <h3 class="text-gray-400 text-[10px] font-bold uppercase tracking-widest">Active Module</h3>
                    </div>

                    <div id="context-content" class="animate-fade-in">
                        <h2 id="ctx-title" class="text-3xl font-display font-bold text-white mb-2 leading-none">Deconstruction</h2>
                        <div class="h-1 w-12 bg-neonBlue mb-4 mt-3"></div>
                        <p id="ctx-desc" class="text-sm text-gray-400 leading-relaxed mb-8">
                            The ability to break down complex problems into fundamental truths and build up from there.
                        </p>
                        
                        <div class="space-y-4 pt-6 border-t border-gray-800">
                            <div class="flex items-center justify-between text-xs">
                                <span class="text-gray-500 font-mono uppercase">Difficulty</span>
                                <div class="flex gap-1" id="ctx-diff"></div>
                            </div>
                            <div class="flex items-center justify-between text-xs">
                                <span class="text-gray-500 font-mono uppercase">Est. Time</span>
                                <span class="text-white font-mono" id="ctx-time">15m</span>
                            </div>
                            <div class="flex items-center justify-between text-xs">
                                <span class="text-gray-500 font-mono uppercase">XP Reward</span>
                                <span class="text-neonYellow font-mono font-bold">+250 XP</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="glass-panel p-6 rounded-2xl tilt-card border border-white/5" data-tilt>
                    <h3 class="text-gray-500 text-[10px] font-bold uppercase tracking-widest mb-4">Professional Application</h3>
                    <div class="flex items-start gap-4">
                        <div class="w-10 h-10 rounded bg-gradient-to-br from-gray-800 to-black flex items-center justify-center text-white border border-gray-700 shadow-inner shrink-0">
                            <i class="fa-solid fa-briefcase text-sm"></i>
                        </div>
                        <div>
                            <p class="text-sm font-bold text-white" id="job-role">Product Management</p>
                            <p class="text-[10px] text-gray-400 mt-1 uppercase tracking-wider">Top Tier Tech</p>
                            <p class="text-xs text-gray-500 mt-3 italic border-l-2 border-gray-700 pl-3 leading-relaxed">
                                "This specific skill is tested in 80% of leadership interviews at Google, Amazon, and McKinsey."
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-9">
                <div class="glass-panel min-h-[750px] rounded-3xl relative overflow-hidden flex flex-col border border-gray-800/50 shadow-2xl bg-[#080b12]" id="engine-frame">
                    
                    <div class="h-16 border-b border-gray-800 bg-black/40 flex justify-between items-center px-6 backdrop-blur-md z-20">
                        <div class="flex items-center gap-4">
                            <div class="flex items-center gap-2 px-3 py-1 rounded bg-red-500/10 border border-red-500/30">
                                <div class="w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"></div>
                                <span class="text-[10px] font-bold text-red-500 uppercase tracking-widest">Live Simulation</span>
                            </div>
                            <div class="h-4 w-px bg-gray-800"></div>
                            <h2 id="engine-title" class="text-sm font-bold text-gray-300 hidden md:block tracking-wide">Scenario: The Pricing Paradox</h2>
                        </div>
                        
                        <div class="flex items-center gap-4">
                            <div class="px-4 py-1.5 rounded bg-black/50 border border-gray-700 font-mono text-neonBlue text-lg tabular-nums flex items-center gap-2 shadow-inner" id="timer-box">
                                <i class="fa-regular fa-clock text-xs opacity-50"></i>
                                <span id="timer">00:00</span>
                            </div>
                            <button onclick="Engine.reset()" class="text-gray-500 hover:text-white transition-colors" title="Reset Challenge"><i class="fa-solid fa-rotate-right"></i></button>
                        </div>
                    </div>

                    <div class="flex-1 relative bg-gradient-to-b from-[#0B0F19] to-[#05070a]">
                        
                        <div id="view-input" class="absolute inset-0 p-8 flex flex-col transition-all duration-500 z-10">
                            <div class="grid md:grid-cols-2 gap-10 h-full">
                                <div class="flex flex-col h-full">
                                    <div class="font-mono text-[10px] text-neonBlue mb-4 opacity-70 flex gap-2">
                                        <span class="animate-pulse">> INCOMING TRANSMISSION...</span>
                                        <span>> DECRYPTING...</span>
                                    </div>
                                    <div class="flex-1 overflow-y-auto custom-scroll pr-4">
                                        <h3 class="text-3xl font-display font-bold text-white mb-6 leading-tight" id="engine-prompt-title">
                                            Competitor Disruption Event
                                        </h3>
                                        <div class="prose prose-invert prose-sm text-gray-300 leading-relaxed font-light" id="engine-prompt-text">
                                            </div>
                                    </div>
                                    
                                    <div class="mt-6 pt-6 border-t border-gray-800">
                                        <button onclick="Engine.toggleHint()" class="text-xs text-gray-500 hover:text-white flex items-center gap-2 transition-colors w-full justify-between group">
                                            <span class="flex items-center gap-2"><i class="fa-regular fa-lightbulb text-yellow-600 group-hover:text-yellow-400"></i> Unlock Strategic Hint</span>
                                            <span class="font-mono text-red-400 opacity-50 group-hover:opacity-100 transition-opacity text-[10px] border border-red-900 bg-red-900/10 px-2 py-0.5 rounded">-10 XP</span>
                                        </button>
                                        <div id="hint-box" class="hidden mt-4 p-4 bg-yellow-500/5 border border-yellow-500/20 rounded-lg text-xs text-yellow-200 animate-fade-in shadow-[0_0_15px_rgba(253,224,71,0.05)] leading-relaxed"></div>
                                    </div>
                                </div>

                                <div class="flex flex-col h-full bg-black/30 rounded-xl border border-gray-800/50 overflow-hidden relative group focus-within:border-neonBlue/50 transition-colors shadow-inner backdrop-blur-sm">
                                    <div class="bg-gray-900/50 px-4 py-3 border-b border-gray-800 flex justify-between items-center">
                                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2">
                                            <i class="fa-solid fa-terminal text-neonBlue"></i> Logic Terminal
                                        </span>
                                        <span class="text-[10px] text-gray-600 font-mono">v.1.0</span>
                                    </div>
                                    <textarea id="user-input" class="flex-1 w-full bg-transparent p-6 text-gray-200 font-mono text-sm focus:outline-none resize-none placeholder-gray-700 leading-relaxed" placeholder="// Initiate thought process here...&#10;// Use frameworks like 'First Principles' or 'Inversion'&#10;// Step 1: Identify Assumptions&#10;// Step 2: Analyze Evidence&#10;// Step 3: Conclude"></textarea>
                                    
                                    <div class="p-4 border-t border-gray-800 bg-gray-900/30 flex justify-between items-center">
                                        <div class="flex gap-4 text-[10px] text-gray-500 font-mono">
                                            <span id="word-count">0 words</span>
                                            <span id="save-status" class="hidden text-neonGreen animate-pulse">Draft Saved</span>
                                        </div>
                                        <button onclick="Engine.submit()" class="group relative px-8 py-3 bg-white text-black text-xs font-bold uppercase tracking-widest hover:bg-neonBlue transition-all overflow-hidden rounded-sm shadow-lg hover:shadow-neonBlue/50">
                                            <span class="relative z-10 flex items-center gap-2">Execute Analysis <i class="fa-solid fa-arrow-right group-hover:translate-x-1 transition-transform"></i></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="view-loading" class="hidden absolute inset-0 bg-[#0B0F19] z-20 flex flex-col items-center justify-center p-8">
                            <div class="relative w-96 h-2 bg-gray-800 rounded-full overflow-hidden mb-8">
                                <div class="loader-bar"></div>
                            </div>
                            <h3 class="font-mono text-neonBlue text-2xl font-bold tracking-widest mb-4 animate-pulse" id="loading-title">ANALYZING SYNTAX</h3>
                            <div class="font-mono text-xs text-gray-500 uppercase tracking-widest h-4 mb-12" id="loading-subtitle">Tokenizing input...</div>
                            
                            <div class="w-96 font-mono text-[10px] text-gray-500 text-left space-y-2 opacity-80 bg-black/50 p-6 rounded-lg border border-gray-800 shadow-xl">
                                <div class="text-green-500 border-b border-gray-800 pb-2 mb-2">SYSTEM LOGS</div>
                                <div id="console-output" class="space-y-1">
                                    </div>
                            </div>
                        </div>

                        <div id="view-results" class="hidden absolute inset-0 bg-[#0B0F19] z-10 flex flex-col overflow-y-auto custom-scroll">
                            
                            <div class="bg-black/40 border-b border-gray-800 p-6 flex justify-between items-center sticky top-0 z-30 backdrop-blur-md">
                                <h3 class="text-white font-bold uppercase tracking-widest text-sm flex items-center gap-2">
                                    <span class="w-2 h-2 bg-green-500 rounded-full"></span> Analysis Complete
                                </h3>
                                <button onclick="Engine.reset()" class="text-xs text-gray-400 hover:text-white flex items-center gap-2 border border-gray-700 px-3 py-1.5 rounded hover:border-white transition-all">Close Report <i class="fa-solid fa-xmark"></i></button>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-3 border-b border-gray-800">
                                <div class="p-10 border-r border-gray-800 border-b md:border-b-0 flex flex-col items-center justify-center relative overflow-hidden group">
                                    <div class="absolute inset-0 bg-neonBlue/5 radial-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div class="relative z-10 flex flex-col items-center">
                                        <div class="score-ring mb-4 w-28 h-28" style="background: conic-gradient(#00f3ff var(--depth-pct), #1f2937 0);">
                                            <div class="absolute inset-[4px] bg-[#0B0F19] rounded-full flex items-center justify-center shadow-inner">
                                                <span class="relative text-4xl font-display font-bold text-white neon-text-blue" id="score-depth">0</span>
                                            </div>
                                        </div>
                                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Depth Score</span>
                                    </div>
                                </div>
                                <div class="p-10 border-r border-gray-800 border-b md:border-b-0 flex flex-col items-center justify-center relative overflow-hidden group">
                                    <div class="absolute inset-0 bg-neonPurple/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div class="relative z-10 flex flex-col items-center">
                                        <div class="score-ring mb-4 w-28 h-28" style="background: conic-gradient(#bc13fe var(--clarity-pct), #1f2937 0);">
                                            <div class="absolute inset-[4px] bg-[#0B0F19] rounded-full flex items-center justify-center shadow-inner">
                                                <span class="relative text-4xl font-display font-bold text-white neon-text-purple" id="score-clarity">0</span>
                                            </div>
                                        </div>
                                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Clarity</span>
                                    </div>
                                </div>
                                <div class="p-10 flex flex-col items-center justify-center relative overflow-hidden group">
                                    <div class="absolute inset-0 bg-neonRed/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div class="relative z-10 flex flex-col items-center">
                                        <div class="text-5xl mb-4 transition-transform group-hover:scale-110 duration-300" id="score-bias-icon"></div>
                                        <span class="text-xl font-bold text-white" id="score-bias">Analyzing...</span>
                                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1">Bias Detected</span>
                                    </div>
                                </div>
                            </div>

                            <div class="grid md:grid-cols-12 flex-1 min-h-0">
                                <div class="md:col-span-5 p-10 border-r border-gray-800 bg-white/[0.01] space-y-10">
                                    <div>
                                        <h4 class="text-neonBlue font-bold text-xs uppercase tracking-widest mb-4 flex items-center gap-2">
                                            <i class="fa-solid fa-robot"></i> AI Neural Analysis
                                        </h4>
                                        <p class="text-sm text-gray-300 leading-relaxed font-light border-l-2 border-gray-700 pl-4" id="ai-feedback-text">
                                            Analysis pending...
                                        </p>
                                    </div>
                                    
                                    <div class="p-6 bg-black/40 border border-gray-700 rounded-xl relative overflow-hidden group hover:border-neonPurple/50 transition-colors">
                                        <div class="absolute top-0 right-0 w-24 h-24 bg-neonPurple/10 rounded-bl-full transition-transform group-hover:scale-110"></div>
                                        <h4 class="text-gray-500 font-bold text-[10px] uppercase tracking-widest mb-3 relative z-10">Recommended Framework</h4>
                                        <p class="text-white font-bold text-xl relative z-10" id="rec-model-name">Inversion</p>
                                        <p class="text-xs text-gray-400 mt-2 relative z-10 leading-relaxed" id="rec-model-desc">Invert, always invert. Turn a situation upside down.</p>
                                        <button class="mt-6 text-[10px] text-neonPurple border-b border-neonPurple/50 hover:text-white transition-colors uppercase font-bold tracking-wider relative z-10">View Model Details <i class="fa-solid fa-arrow-right ml-1"></i></button>
                                    </div>
                                </div>

                                <div class="md:col-span-7 p-10 bg-[#0B0F19]">
                                    <h4 class="text-gray-500 font-bold text-[10px] uppercase tracking-widest mb-8">Logic Visualization Map</h4>
                                    
                                    <div class="space-y-0 relative pl-4 border-l border-gray-800" id="path-container">
                                        </div>

                                    <div class="mt-16 flex gap-4 pt-8 border-t border-gray-800">
                                        <button onclick="Engine.save()" class="flex-1 py-4 border border-gray-700 text-gray-300 font-bold uppercase text-[10px] tracking-widest hover:border-neonBlue hover:text-white transition-all rounded bg-black/50">
                                            <i class="fa-solid fa-floppy-disk mr-2"></i> Save to Neural Bank
                                        </button>
                                        <button onclick="Engine.reset()" class="flex-1 py-4 bg-white text-black font-bold uppercase text-[10px] tracking-widest hover:bg-neonBlue transition-all rounded shadow-lg hover:shadow-neonBlue/50">
                                            Next Challenge <i class="fa-solid fa-forward ml-2"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="library" class="max-w-[1600px] mx-auto mb-40 px-4 opacity-0 reveal">
            <div class="flex items-center justify-between mb-12">
                <div>
                    <h2 class="font-display text-4xl font-bold mb-2 pl-4 border-l-4 border-neonPurple text-white">Cognitive <span class="text-neonPurple">Library</span></h2>
                    <p class="text-gray-400 text-sm pl-5">Master the mental models of the world's greatest thinkers.</p>
                </div>
                <div class="relative hidden md:block group">
                    <input type="text" placeholder="Search models..." class="bg-black/30 border border-gray-700 rounded-full py-3 px-6 pl-12 text-sm text-white focus:border-neonPurple focus:outline-none w-72 transition-all shadow-inner focus:bg-black/50">
                    <i class="fa-solid fa-search absolute left-5 top-3.5 text-gray-500 text-sm group-focus-within:text-neonPurple transition-colors"></i>
                </div>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6" id="framework-grid">
                </div>
            
            <div class="text-center mt-16">
                <button class="text-gray-500 hover:text-white text-xs uppercase tracking-widest border-b border-transparent hover:border-white transition-all pb-1 group">View All 48 Models <i class="fa-solid fa-arrow-down ml-1 group-hover:translate-y-1 transition-transform"></i></button>
            </div>
        </section>

        <section id="analytics" class="max-w-[1400px] mx-auto mb-40 px-4 opacity-0 reveal">
            <div class="grid lg:grid-cols-2 gap-16">
                
                <div>
                    <h2 class="font-display text-3xl font-bold mb-8 text-white flex items-center gap-3">
                        <i class="fa-solid fa-earth-americas text-neonGreen"></i> Global Intelligence Grid
                    </h2>
                    
                    <div class="glass-panel rounded-2xl overflow-hidden border border-gray-800">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-black/40 border-b border-gray-700 text-[10px] uppercase text-gray-500 tracking-widest">
                                    <th class="p-5 font-bold">Rank</th>
                                    <th class="p-5 font-bold">Operative</th>
                                    <th class="p-5 font-bold text-center">Level</th>
                                    <th class="p-5 font-bold text-right">Insight Score</th>
                                    <th class="p-5 font-bold text-right hidden md:table-cell">Status</th>
                                </tr>
                            </thead>
                            <tbody class="text-sm divide-y divide-gray-800" id="leaderboard-body">
                                </tbody>
                        </table>
                        <div class="p-4 bg-black/20 text-center border-t border-gray-800">
                            <span class="text-[10px] text-gray-500 cursor-pointer hover:text-white transition-colors">View Full Rankings</span>
                        </div>
                    </div>
                </div>

                <div>
                    <h2 class="font-display text-3xl font-bold mb-8 text-white flex items-center gap-3">
                        <i class="fa-solid fa-chart-pie text-neonBlue"></i> System Metrics
                    </h2>
                    <div class="glass-panel rounded-2xl p-8 border border-gray-800">
                        <div class="flex justify-between items-end mb-6">
                            <div>
                                <p class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Weekly Growth</p>
                                <p class="text-3xl font-bold text-white mt-1">+12.4%</p>
                            </div>
                            <div class="flex gap-2">
                                <span class="w-3 h-3 rounded-full bg-neonBlue"></span>
                                <span class="text-[10px] text-gray-400">Logic</span>
                                <span class="w-3 h-3 rounded-full bg-neonPurple ml-2"></span>
                                <span class="text-[10px] text-gray-400">Creativity</span>
                            </div>
                        </div>
                        
                        <div class="h-48 flex items-end justify-between gap-2">
                            <div class="w-full bg-gray-800/30 rounded-t-sm h-[40%] hover:h-[50%] hover:bg-neonBlue transition-all duration-500 relative group"><div class="absolute -top-6 left-1/2 -translate-x-1/2 text-[9px] text-white opacity-0 group-hover:opacity-100 transition-opacity">40%</div></div>
                            <div class="w-full bg-gray-800/30 rounded-t-sm h-[65%] hover:h-[70%] hover:bg-neonBlue transition-all duration-500 relative group"><div class="absolute -top-6 left-1/2 -translate-x-1/2 text-[9px] text-white opacity-0 group-hover:opacity-100 transition-opacity">65%</div></div>
                            <div class="w-full bg-gray-800/30 rounded-t-sm h-[50%] hover:h-[60%] hover:bg-neonBlue transition-all duration-500 relative group"><div class="absolute -top-6 left-1/2 -translate-x-1/2 text-[9px] text-white opacity-0 group-hover:opacity-100 transition-opacity">50%</div></div>
                            <div class="w-full bg-gray-800/30 rounded-t-sm h-[80%] hover:h-[85%] hover:bg-neonBlue transition-all duration-500 relative group"><div class="absolute -top-6 left-1/2 -translate-x-1/2 text-[9px] text-white opacity-0 group-hover:opacity-100 transition-opacity">80%</div></div>
                            <div class="w-full bg-gray-800/30 rounded-t-sm h-[60%] hover:h-[70%] hover:bg-neonBlue transition-all duration-500 relative group"><div class="absolute -top-6 left-1/2 -translate-x-1/2 text-[9px] text-white opacity-0 group-hover:opacity-100 transition-opacity">60%</div></div>
                            <div class="w-full bg-gradient-to-t from-neonBlue/20 to-neonBlue rounded-t-sm h-[92%] hover:h-[95%] transition-all duration-500 relative group shadow-[0_0_15px_rgba(0,243,255,0.3)]"><div class="absolute -top-6 left-1/2 -translate-x-1/2 text-[9px] text-white opacity-100 font-bold">92%</div></div>
                            <div class="w-full bg-gray-800/30 rounded-t-sm h-[30%] opacity-30"></div>
                        </div>
                        <div class="flex justify-between text-[9px] text-gray-500 mt-2 font-mono uppercase">
                            <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="manifesto" class="max-w-[800px] mx-auto mb-40 px-4 opacity-0 reveal text-center">
            <div class="inline-block p-4 rounded-full bg-white/5 border border-white/10 mb-8">
                <i class="fa-solid fa-fingerprint text-3xl text-gray-400"></i>
            </div>
            <h2 class="font-display text-5xl font-bold mb-8 text-white">The Shift</h2>
            <div class="prose prose-invert prose-lg mx-auto text-gray-400 leading-relaxed">
                <p class="mb-6">
                    The educational systems of the past were designed for the factory age. Memorize. Repeat. Comply. This is obsolete code running on modern hardware.
                </p>
                <p class="mb-6">
                    The future belongs to the <strong>Synthesizers</strong>. Those who can take disparate information, detect the signal in the noise, and formulate original, high-utility decisions under pressure.
                </p>
                <p>
                    MindShift OS is not a course. It is a gym for your logic. It is a firing range for your reasoning. Welcome to the new standard of cognition.
                </p>
            </div>
            <div class="mt-16">
                <img src="https://api.dicebear.com/7.x/shapes/svg?seed=sig" class="w-20 h-20 mx-auto opacity-30 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-700 cursor-pointer">
                <p class="text-[9px] text-gray-600 mt-4 uppercase tracking-widest font-mono">Endorsed by the Future</p>
            </div>
        </section>

    </main>

    <div id="profile-panel" class="fixed top-0 right-0 h-full w-full md:w-[480px] bg-[#0F131E]/95 backdrop-blur-2xl border-l border-gray-800 transform translate-x-full transition-transform duration-500 z-[60] shadow-2xl flex flex-col">
        
        <div class="p-6 border-b border-gray-800 flex justify-between items-center bg-black/40">
            <h3 class="font-bold text-white uppercase tracking-widest text-xs flex items-center gap-2">
                <i class="fa-solid fa-id-card text-gray-500"></i> Operative Profile
            </h3>
            <button onclick="UI.toggleProfilePanel()" class="text-gray-500 hover:text-white w-8 h-8 flex items-center justify-center rounded hover:bg-white/10 transition-all"><i class="fa-solid fa-xmark fa-lg"></i></button>
        </div>
        
        <div class="flex-1 overflow-y-auto p-8 custom-scroll">
            
            <div class="flex items-center gap-6 mb-10 p-4 rounded-xl bg-white/5 border border-white/5">
                <div class="w-20 h-20 rounded-full bg-gradient-to-br from-neonBlue to-purple-600 p-0.5 relative group cursor-pointer shrink-0">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=b6e3f4" alt="Avatar" class="rounded-full bg-black relative z-10 h-full w-full object-cover">
                    <div class="absolute inset-0 bg-white/40 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity"></div>
                </div>
                <div class="w-full">
                    <div class="flex justify-between items-start">
                        <h2 class="text-2xl font-bold text-white mb-1">Operative_01</h2>
                        <span class="px-2 py-0.5 bg-neonBlue/10 text-neonBlue text-[9px] font-bold uppercase rounded border border-neonBlue/30">Pro</span>
                    </div>
                    <div class="flex items-center gap-2 text-xs text-gray-400 mb-2">
                        <span class="font-mono">ID: #8492-AX</span>
                        <span class="w-1 h-1 bg-gray-600 rounded-full"></span>
                        <span>Joined: 2025</span>
                    </div>
                    <div class="w-full bg-gray-800 h-1.5 rounded-full overflow-hidden">
                        <div class="bg-gradient-to-r from-neonBlue to-neonPurple h-full w-[65%] shadow-[0_0_10px_#00f3ff]"></div>
                    </div>
                    <p class="text-[9px] text-gray-500 mt-1 text-right font-mono">XP: 2,450 / 3,000</p>
                </div>
            </div>

            <div class="mb-10 bg-black/20 p-6 rounded-xl border border-gray-800/50 relative">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="text-gray-500 font-bold text-[10px] uppercase tracking-widest">Cognitive Matrix</h4>
                    <button class="text-[10px] text-neonBlue hover:underline" onclick="UI.refreshChart()"><i class="fa-solid fa-rotate"></i> Refresh</button>
                </div>
                <div class="chart-container">
                    <canvas id="skillsChart"></canvas>
                </div>
                <div id="chart-fallback" class="hidden absolute inset-0 flex items-center justify-center text-xs text-gray-500">Visualization Module Loading...</div>
            </div>

            <h4 class="text-gray-500 font-bold text-[10px] uppercase tracking-widest mb-4 flex justify-between items-center">
                Recent Solutions 
                <span class="text-[9px] bg-gray-800 px-2 py-0.5 rounded text-white font-mono">Total: 42</span>
            </h4>
            <div class="space-y-3" id="history-list">
                </div>
        </div>

        <div class="p-6 border-t border-gray-800 bg-black/40">
            <button class="w-full py-3 border border-gray-700 text-gray-300 text-xs font-bold uppercase hover:text-white hover:border-white hover:bg-white/5 transition-all flex justify-center items-center gap-2 rounded" onclick="UI.exportReport()">
                <i class="fa-solid fa-file-export"></i> Export Neural Report (PDF)
            </button>
        </div>
    </div>

    <div id="toast-container" class="fixed bottom-8 right-8 z-[100] flex flex-col gap-3 pointer-events-none">
        </div>

    <footer class="border-t border-gray-900 bg-black py-12 px-4 relative overflow-hidden">
        <div class="max-w-[1400px] mx-auto">
            <div class="bg-[#050505] border border-gray-800 rounded-lg p-4 font-mono text-[10px] text-gray-600 mb-8 h-32 overflow-hidden relative">
                <div class="absolute top-2 right-4 text-gray-700">SYSTEM_LOGS</div>
                <div id="system-console" class="space-y-1 opacity-70">
                    <div>> Initializing Core... OK</div>
                    <div>> Loading Neural Weights... OK</div>
                </div>
                <div class="absolute bottom-0 left-0 w-full h-8 bg-gradient-to-t from-[#050505] to-transparent"></div>
            </div>

            <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="text-center md:text-left">
                    <span class="font-display font-bold text-lg text-white uppercase tracking-widest">MindShift</span>
                    <p class="text-xs text-gray-600 mt-2">Architecture v0.0.1<br>Server: Asia-East-1</p>
                </div>
                <div class="text-center mt-4 md:mt-0 opacity-30 text-[9px] text-gray-700 uppercase tracking-[0.2em] font-mono">
                    &copy; 2026 MindShift Labs. All Systems Nominal.
                </div>
            </div>
        </div>
    </footer>

    <script>
        /**
         * MindShift OS Kernel v6.0
         * A complete simulated single-page application logic.
         */

        // --- DATABASE ---
        const DB = {
            challenges: [
                {
                    id: 'c1',
                    category: 'critical',
                    title: "The Pricing Paradox",
                    desc: "<p>You are the CEO of a SaaS company with 3 months of runway left.</p><p class='mt-4'>A massive competitor just launched a clone of your product at 50% lower prices. Your Sales VP wants to match the price immediately to stop churn. Your CTO argues that a price war is suicide and wants 2 months to build a differentiating AI feature.</p><p class='mt-4 text-white font-bold'>What is your strategic move, and specifically, what do you do tomorrow morning?</p>",
                    difficulty: 4,
                    time: "15:00",
                    role: "Startup CEO",
                    model: "Second-Order Thinking"
                },
                {
                    id: 'c2',
                    category: 'people',
                    title: "The Toxic Genius",
                    desc: "<p>You are a VP of Engineering. Your 10x engineer, Alex, is technically brilliant but belittles junior staff, causing two resignations this month.</p><p class='mt-4'>You have a critical product launch in 3 weeks that relies heavily on Alex's code. If you fire Alex, the launch fails. If you keep Alex, the team morale collapses.</p><p class='mt-4 text-white font-bold'>Construct a plan to handle this situation with minimal damage.</p>",
                    difficulty: 3,
                    time: "20:00",
                    role: "VP of Engineering",
                    model: "Cost-Benefit Analysis"
                },
                {
                    id: 'c3',
                    category: 'finance',
                    title: "The Sunk Cost Trap",
                    desc: "<p>You are a Product Lead. Your team has spent $500k and 6 months building 'Project X'.</p><p class='mt-4'>New market data suggests user demand for this feature has dropped by 80%. Finishing it will cost another $100k and 1 month. Abandoning it means zero ROI on the $500k.</p><p class='mt-4 text-white font-bold'>Do you pivot or finish? Justify your decision using financial logic.</p>",
                    difficulty: 2,
                    time: "10:00",
                    role: "Product Lead",
                    model: "Sunk Cost Fallacy"
                },
                {
                    id: 'c4',
                    category: 'sys',
                    title: "Supply Chain Collapse",
                    desc: "<p>You are an Operations Director. A natural disaster has knocked out your primary supplier in Taiwan.</p><p class='mt-4'>You have inventory for 2 weeks. Alternative suppliers in Vietnam are 20% more expensive and take 4 weeks to ship. Air freight is instant but destroys margins.</p><p class='mt-4 text-white font-bold'>Map out your logistics strategy for the next 30 days.</p>",
                    difficulty: 5,
                    time: "25:00",
                    role: "Ops Director",
                    model: "Systems Thinking"
                }
            ],
            models: [
                { name: "First Principles", desc: "Boil things down to fundamental truths.", icon: "fa-atom" },
                { name: "Inversion", desc: "Avoid stupidity instead of seeking brilliance.", icon: "fa-rotate" },
                { name: "Occam's Razor", desc: "The simplest explanation is usually correct.", icon: "fa-scissors" },
                { name: "Pareto Principle", desc: "80% of results come from 20% of effort.", icon: "fa-chart-pie" },
                { name: "Second-Order", desc: "And then what? Consequences of consequences.", icon: "fa-chess" },
                { name: "Map vs Territory", desc: "The model is not reality.", icon: "fa-map" },
                { name: "Probabilistic Thinking", desc: "Estimating likelihoods, not certainties.", icon: "fa-dice" },
                { name: "Circle of Competence", desc: "Know what you don't know.", icon: "fa-bullseye" }
            ],
            history: [
                { title: "Market Analysis", score: "A", date: "2h ago" },
                { title: "Ethical Dilemma", score: "B+", date: "1d ago" },
                { title: "Crisis Management", score: "A+", date: "3d ago" },
                { title: "Resource Alloc.", score: "B-", date: "5d ago" }
            ],
            leaderboard: [
                { name: "Cipher_99", level: 5, score: 9840, status: "Active" },
                { name: "Logic_Flow", level: 5, score: 9200, status: "Offline" },
                { name: "Felix_Prime", level: 4, score: 8450, status: "Online" }, /* User */
                { name: "Neon_Mind", level: 4, score: 7800, status: "Active" },
                { name: "Think_Tank", level: 3, score: 6500, status: "Active" }
            ]
        };

        // --- STATE MANAGER ---
        const State = {
            activeChallengeId: 'c1',
            timer: null,
            timeLeft: 0,
            isFocusMode: false,
            xp: 2450,
            level: 3,
            historyLog: [...DB.history]
        };

        // --- VISUALS ENGINE ---
        const Visuals = {
            initCanvas: function() {
                const canvas = document.getElementById('particle-canvas');
                const ctx = canvas.getContext('2d');
                let width, height, particles;

                const resize = () => {
                    width = canvas.width = window.innerWidth;
                    height = canvas.height = window.innerHeight;
                };

                const createParticles = () => {
                    particles = [];
                    const count = Math.floor(width * 0.03); // Optimized density
                    for (let i = 0; i < count; i++) {
                        particles.push({
                            x: Math.random() * width,
                            y: Math.random() * height,
                            vx: (Math.random() - 0.5) * 0.2,
                            vy: (Math.random() - 0.5) * 0.2,
                            size: Math.random() * 2,
                            alpha: Math.random() * 0.5,
                            color: Math.random() > 0.9 ? '#bc13fe' : '#00f3ff'
                        });
                    }
                };

                const animate = () => {
                    if (State.isFocusMode) {
                        setTimeout(() => requestAnimationFrame(animate), 500); // Low power mode
                        return;
                    }

                    ctx.clearRect(0, 0, width, height);
                    
                    particles.forEach(p => {
                        p.x += p.vx;
                        p.y += p.vy;
                        
                        if (p.x < 0) p.x = width;
                        if (p.x > width) p.x = 0;
                        if (p.y < 0) p.y = height;
                        if (p.y > height) p.y = 0;

                        ctx.globalAlpha = p.alpha * 0.4;
                        ctx.fillStyle = p.color;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                        ctx.fill();
                    });
                    requestAnimationFrame(animate);
                };

                window.addEventListener('resize', () => { resize(); createParticles(); });
                resize();
                createParticles();
                animate();
            },

            initTilt: function() {
                document.addEventListener('mousemove', (e) => {
                    if (State.isFocusMode) return;
                    
                    const cursor = document.getElementById('cursor');
                    cursor.style.left = e.clientX + 'px';
                    cursor.style.top = e.clientY + 'px';

                    // Throttled tilt logic
                    requestAnimationFrame(() => {
                        document.querySelectorAll('.tilt-card').forEach(card => {
                            const rect = card.getBoundingClientRect();
                            const x = e.clientX - rect.left;
                            const y = e.clientY - rect.top;
                            
                            // Only animate if mouse is actually near the card
                            if (x > -100 && x < rect.width + 100 && y > -100 && y < rect.height + 100) {
                                const centerX = rect.width / 2;
                                const centerY = rect.height / 2;
                                const rotateX = ((y - centerY) / centerY) * -4;
                                const rotateY = ((x - centerX) / centerX) * 4;
                                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                            } else {
                                card.style.transform = `perspective(1000px) rotateX(0) rotateY(0)`;
                            }
                        });
                    });
                });
            }
        };

        // --- UI CONTROLLER ---
        const UI = {
            renderSkills: function() {
                const container = document.getElementById('skill-container');
                const skills = [
                    { id: 'critical', icon: 'fa-chess-knight', name: 'Critical Logic', active: true },
                    { id: 'people', icon: 'fa-users', name: 'Leadership', active: false },
                    { id: 'finance', icon: 'fa-chart-line', name: 'Resource Alloc', active: false },
                    { id: 'sys', icon: 'fa-network-wired', name: 'Systems Thinking', active: false }
                ];

                container.innerHTML = skills.map(s => `
                    <button onclick="Engine.loadCategory('${s.id}', this)" class="flex-shrink-0 px-6 py-3 rounded-xl border transition-all duration-300 flex items-center gap-3 group ${s.active ? 'bg-neonBlue/10 border-neonBlue text-white shadow-[0_0_15px_rgba(0,243,255,0.2)]' : 'border-gray-800 bg-black/20 text-gray-500 hover:border-gray-600 hover:text-white'}">
                        <i class="fa-solid ${s.icon} ${s.active ? 'text-neonBlue' : 'group-hover:text-neonBlue'}"></i>
                        <span class="font-mono text-xs font-bold uppercase tracking-widest">${s.name}</span>
                    </button>
                `).join('');
            },

            renderLibrary: function() {
                const container = document.getElementById('framework-grid');
                container.innerHTML = DB.models.map(m => `
                    <div class="glass-panel p-6 rounded-xl group hover:-translate-y-2 transition-transform duration-300 border border-transparent hover:border-gray-700 cursor-pointer">
                        <div class="flex justify-between items-start mb-4">
                            <div class="w-10 h-10 rounded bg-gray-800 flex items-center justify-center text-gray-400 group-hover:bg-neonPurple group-hover:text-white transition-colors">
                                <i class="fa-solid ${m.icon}"></i>
                            </div>
                            <i class="fa-solid fa-arrow-right -rotate-45 text-gray-700 group-hover:text-white transition-colors"></i>
                        </div>
                        <h3 class="text-white font-bold text-lg mb-2 group-hover:text-neonPurple transition-colors">${m.name}</h3>
                        <p class="text-gray-500 text-sm leading-relaxed">${m.desc}</p>
                    </div>
                `).join('');
            },

            renderLeaderboard: function() {
                const body = document.getElementById('leaderboard-body');
                body.innerHTML = DB.leaderboard.map((u, i) => `
                    <tr class="hover:bg-white/5 transition-colors ${u.name === 'Felix_Prime' ? 'bg-neonBlue/5 border-l-2 border-neonBlue' : ''}">
                        <td class="p-5 font-mono text-gray-400">#${i+1}</td>
                        <td class="p-5 font-bold text-white flex items-center gap-3">
                            <div class="w-6 h-6 rounded-full bg-gradient-to-br from-gray-700 to-black overflow-hidden">
                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=${u.name}" alt="">
                            </div>
                            ${u.name} ${u.name === 'Felix_Prime' ? '<span class="text-[9px] bg-neonBlue text-black px-1 rounded uppercase">You</span>' : ''}
                        </td>
                        <td class="p-5 text-center text-neonPurple font-bold">Lvl ${u.level}</td>
                        <td class="p-5 text-right font-mono text-gray-300">${u.score.toLocaleString()}</td>
                        <td class="p-5 text-right hidden md:table-cell">
                            <span class="text-[9px] uppercase tracking-widest ${u.status === 'Online' ? 'text-green-500' : 'text-gray-600'}">
                                ${u.status}
                            </span>
                        </td>
                    </tr>
                `).join('');
            },

            renderHistory: function() {
                const container = document.getElementById('history-list');
                container.innerHTML = State.historyLog.map(h => `
                    <div class="flex items-center justify-between p-3 rounded bg-white/5 border border-white/5 hover:border-white/20 transition-colors cursor-pointer">
                        <div>
                            <p class="text-white text-sm font-bold">${h.title}</p>
                            <p class="text-[10px] text-gray-500 uppercase tracking-wider">${h.date}</p>
                        </div>
                        <div class="flex flex-col items-end">
                            <span class="text-neonBlue font-mono font-bold">${h.score}</span>
                            <span class="text-[9px] text-gray-600">Score</span>
                        </div>
                    </div>
                `).join('');
            },

            toggleProfilePanel: function() {
                const panel = document.getElementById('profile-panel');
                panel.classList.toggle('translate-x-full');
                
                // Initialize chart only if visible to avoid canvas errors
                if (!panel.classList.contains('translate-x-full')) {
                    setTimeout(() => this.initChart(), 300); // Delay for transition
                }
            },

            refreshChart: function() {
                this.showToast('Refreshing...', 'Updating neural metrics.', 'info');
                this.initChart();
            },

            initChart: function() {
                const canvas = document.getElementById('skillsChart');
                
                // Check if Chart.js is loaded
                if (typeof Chart === 'undefined') {
                    document.getElementById('chart-fallback').classList.remove('hidden');
                    return;
                }

                // Destroy existing chart to prevent memory leaks
                if (window.myRadarChart) window.myRadarChart.destroy();

                const ctx = canvas.getContext('2d');
                window.myRadarChart = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['Logic', 'Creativity', 'Speed', 'Bias Detection', 'Ethics', 'Systems'],
                        datasets: [{
                            label: 'Current Matrix',
                            data: [85, 65, 92, 75, 88, 70],
                            backgroundColor: 'rgba(0, 243, 255, 0.15)',
                            borderColor: '#00f3ff',
                            borderWidth: 2,
                            pointBackgroundColor: '#00f3ff',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#00f3ff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                grid: { color: 'rgba(255,255,255,0.05)' },
                                angleLines: { color: 'rgba(255,255,255,0.05)' },
                                pointLabels: { color: '#9ca3af', font: { size: 10, family: 'Space Grotesk' } },
                                ticks: { display: false, backdropColor: 'transparent' },
                                suggestMin: 0,
                                suggestMax: 100
                            }
                        },
                        plugins: { legend: { display: false } }
                    }
                });
            },

            showToast: function(title, msg, type = 'success') {
                const container = document.getElementById('toast-container');
                const toast = document.createElement('div');
                toast.className = `glass-panel pointer-events-auto border-l-4 ${type === 'success' ? 'border-neonBlue' : (type === 'alert' ? 'border-neonRed' : 'border-gray-500')} text-white px-6 py-4 rounded-lg shadow-2xl flex items-center gap-4 min-w-[320px] animate-slide-in-right backdrop-blur-xl`;
                
                const icon = type === 'success' ? 'fa-circle-check text-neonBlue' : (type === 'alert' ? 'fa-triangle-exclamation text-neonRed' : 'fa-circle-info text-gray-400');
                
                toast.innerHTML = `
                    <div class="text-xl"><i class="fa-solid ${icon}"></i></div>
                    <div>
                        <h4 class="font-bold text-sm font-display uppercase tracking-wider">${title}</h4>
                        <p class="text-[10px] text-gray-400 uppercase tracking-widest mt-0.5">${msg}</p>
                    </div>
                `;
                
                container.appendChild(toast);
                
                // Remove after delay
                setTimeout(() => {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateY(20px)';
                    setTimeout(() => toast.remove(), 500);
                }, 4000);
            },

            exportReport: function() {
                this.showToast("Export Initiated", "Compiling neural data to PDF...", 'info');
                setTimeout(() => {
                    this.showToast("Download Ready", "Report_Jan26.pdf saved.", "success");
                }, 2500);
            }
        };

        // --- CORTEX ENGINE LOGIC ---
        const Engine = {
            init: function() {
                this.loadChallenge(DB.challenges[0]);
                
                // Real-time word count
                document.getElementById('user-input').addEventListener('input', (e) => {
                    const text = e.target.value;
                    const count = text.trim().split(/\s+/).filter(w => w.length > 0).length;
                    document.getElementById('word-count').innerText = `${count} words`;
                    
                    // Simulated auto-save
                    if(text.length > 20 && text.length % 10 === 0) {
                        const saveEl = document.getElementById('save-status');
                        saveEl.classList.remove('hidden');
                        setTimeout(() => saveEl.classList.add('hidden'), 2000);
                    }
                });
            },

            loadChallenge: function(challenge) {
                State.activeChallengeId = challenge.id;
                
                // Update Context
                document.getElementById('ctx-title').innerText = challenge.title.split(":")[0]; 
                document.getElementById('job-role').innerText = challenge.role;
                
                // Stars
                const diffContainer = document.getElementById('ctx-diff');
                diffContainer.innerHTML = '';
                for(let i=0; i<5; i++) {
                    const color = i < challenge.difficulty ? 'bg-neonBlue' : 'bg-gray-800';
                    diffContainer.innerHTML += `<div class="w-1 h-3 ${color} rounded-full"></div>`;
                }

                // Update Views
                document.getElementById('engine-title').innerText = challenge.title;
                document.getElementById('engine-prompt-title').innerText = challenge.title;
                document.getElementById('engine-prompt-text').innerHTML = challenge.desc;

                // Reset States
                document.getElementById('view-results').classList.add('hidden');
                document.getElementById('view-input').classList.remove('hidden', 'opacity-0');
                document.getElementById('user-input').value = '';
                document.getElementById('hint-box').classList.add('hidden');
                document.getElementById('word-count').innerText = "0 words";

                // Timer
                const timeParts = challenge.time.split(':');
                const seconds = parseInt(timeParts[0]) * 60;
                this.startTimer(seconds);
                
                System.log(`Loaded Challenge: ${challenge.title}`);
            },

            loadCategory: function(catId, btn) {
                // UI Toggle
                const tabs = document.querySelectorAll('#skill-container button');
                tabs.forEach(t => {
                    t.classList.remove('bg-neonBlue/10', 'border-neonBlue', 'text-white', 'shadow-[0_0_15px_rgba(0,243,255,0.2)]');
                    t.classList.add('border-gray-800', 'bg-black/20', 'text-gray-500');
                    t.querySelector('i').classList.remove('text-neonBlue');
                });
                btn.classList.add('bg-neonBlue/10', 'border-neonBlue', 'text-white', 'shadow-[0_0_15px_rgba(0,243,255,0.2)]');
                btn.classList.remove('border-gray-800', 'bg-black/20', 'text-gray-500');
                btn.querySelector('i').classList.add('text-neonBlue');

                // Load Challenge
                const challenge = DB.challenges.find(c => c.category === catId) || DB.challenges[0];
                UI.showToast("Module Loaded", `${challenge.title} initialized.`);
                
                // Smooth Scroll
                document.getElementById('engine-frame').scrollIntoView({behavior: 'smooth', block: 'center'});
                
                setTimeout(() => this.loadChallenge(challenge), 300);
            },

            startTimer: function(seconds) {
                clearInterval(State.timer);
                State.timeLeft = seconds;
                this.updateTimerDisplay();
                
                State.timer = setInterval(() => {
                    State.timeLeft--;
                    this.updateTimerDisplay();
                    if(State.timeLeft <= 0) {
                        clearInterval(State.timer);
                        UI.showToast("Time Expired", "Submitting buffer...", "alert");
                        this.submit();
                    }
                }, 1000);
            },

            updateTimerDisplay: function() {
                const m = Math.floor(State.timeLeft / 60).toString().padStart(2, '0');
                const s = (State.timeLeft % 60).toString().padStart(2, '0');
                const el = document.getElementById('timer');
                el.innerText = `${m}:${s}`;
                
                if(State.timeLeft < 60) {
                    document.getElementById('timer-box').classList.add('text-neonRed', 'border-neonRed', 'animate-pulse');
                    document.getElementById('timer-box').classList.remove('text-neonBlue', 'border-gray-700');
                } else {
                    document.getElementById('timer-box').classList.remove('text-neonRed', 'border-neonRed', 'animate-pulse');
                    document.getElementById('timer-box').classList.add('text-neonBlue', 'border-gray-700');
                }
            },

            toggleHint: function() {
                const box = document.getElementById('hint-box');
                if(box.classList.contains('hidden')) {
                    const hintText = "Hint: Consider the churn rate impact vs. brand dilution. Which is harder to reverse?";
                    box.innerText = hintText;
                    box.classList.remove('hidden');
                    State.xp -= 10;
                    UI.showToast("XP Deducted", "-10 XP for assistance.", "alert");
                } else {
                    box.classList.add('hidden');
                }
            },

            submit: function() {
                const input = document.getElementById('user-input').value;
                if(input.length < 15) {
                    UI.showToast("Input Error", "Analysis too shallow.", "alert");
                    return;
                }

                clearInterval(State.timer);
                System.log("Initiating Analysis Protocol...");

                // Transition
                const inputView = document.getElementById('view-input');
                const loadingView = document.getElementById('view-loading');
                const resultsView = document.getElementById('view-results');

                inputView.classList.add('opacity-0');
                
                setTimeout(() => {
                    inputView.classList.add('hidden');
                    loadingView.classList.remove('hidden');
                    
                    // Simulate Processing
                    const sub = document.getElementById('loading-subtitle');
                    const output = document.getElementById('console-output');
                    const steps = ["Tokenizing Input Stream...", "Mapping Semantic Network...", "Detecting Bias Patterns...", "Synthesizing Feedback..."];
                    let i = 0;
                    
                    output.innerHTML = ''; // Clear previous logs

                    const procInterval = setInterval(() => {
                        sub.innerText = steps[i];
                        const line = document.createElement('div');
                        line.className = `text-${['blue','green','purple'][i%3]}-400`;
                        line.innerText = `> Process.step(${i+1}): OK`;
                        output.appendChild(line);
                        
                        i++;
                        if(i >= steps.length) clearInterval(procInterval);
                    }, 800);

                    // Show Results
                    setTimeout(() => {
                        loadingView.classList.add('hidden');
                        resultsView.classList.remove('hidden');
                        this.renderResults(input);
                        System.log("Analysis Complete. Report Generated.");
                    }, 4000);
                }, 500);
            },

            renderResults: function(input) {
                // Scoring Logic (Mock)
                const baseScore = 70;
                const lengthBonus = Math.min(20, input.length / 10);
                const depth = Math.floor(baseScore + lengthBonus + (Math.random() * 10));
                const clarity = Math.floor(Math.random() * 15) + 80;
                const biasChance = Math.random();
                const bias = biasChance > 0.7 ? "Confirmation Bias" : biasChance > 0.4 ? "Recency Bias" : "None";

                // Update Counters
                this.animateCounter('score-depth', 0, depth, 1500);
                this.animateCounter('score-clarity', 0, clarity, 1500);
                
                document.querySelector('#score-depth').parentElement.style.setProperty('--depth-pct', `${depth}%`);
                document.querySelector('#score-clarity').parentElement.style.setProperty('--clarity-pct', `${clarity}%`);

                document.getElementById('score-bias').innerText = bias;
                document.getElementById('score-bias').className = bias === "None" ? "text-xl font-bold text-green-500" : "text-xl font-bold text-neonRed";
                document.getElementById('score-bias-icon').innerHTML = bias === "None" 
                    ? '<i class="fa-solid fa-check-circle text-green-500"></i>' 
                    : '<i class="fa-solid fa-triangle-exclamation text-neonRed"></i>';

                // Feedback Text
                const feedback = bias === "None" 
                    ? "Exceptional reasoning. You correctly identified the core trade-off and applied a long-term framework. The reasoning demonstrates high clarity and zero detected fallacies." 
                    : `While your conclusion has merit, the system detected potential ${bias}. You focused heavily on supporting evidence while ignoring contradictory data. Consider the 'Inverse' next time.`;
                document.getElementById('ai-feedback-text').innerText = feedback;

                // Timeline Animation
                const pathContainer = document.getElementById('path-container');
                pathContainer.innerHTML = '';
                const steps = [
                    { title: "Input Ingestion", desc: "Data parsed successfully.", color: "bg-gray-500" },
                    { title: "Framework Alignment", desc: "Logic mapped to 'Second-Order Thinking'.", color: "bg-neonBlue" },
                    { title: "Bias Scan", desc: bias === "None" ? "No critical errors found." : "Bias Flagged.", color: bias === "None" ? "bg-green-500" : "bg-neonRed" },
                    { title: "Strategic Output", desc: "Recommendation synthesized.", color: "bg-neonPurple" }
                ];

                steps.forEach((step, index) => {
                    setTimeout(() => {
                        const div = document.createElement('div');
                        div.className = "mb-8 relative pl-8 opacity-0 translate-y-4 transition-all duration-500 active-node";
                        div.innerHTML = `
                            <div class="absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full ${step.color} shadow-[0_0_10px_currentColor] z-10 path-node-circle"></div>
                            <div class="absolute left-0 top-3 w-px bg-gray-700 path-node-line -z-0"></div>
                            <h4 class="text-xs font-bold text-white uppercase tracking-widest">${step.title}</h4>
                            <p class="text-sm text-gray-400 mt-1">${step.desc}</p>
                        `;
                        pathContainer.appendChild(div);
                        
                        requestAnimationFrame(() => {
                            div.classList.remove('opacity-0', 'translate-y-4');
                        });
                    }, index * 800);
                });

                // Update Log
                State.xp += 250;
                const newHistory = { 
                    title: DB.challenges.find(c => c.id === State.activeChallengeId).title, 
                    score: depth > 90 ? 'S' : depth > 80 ? 'A' : 'B', 
                    date: 'Just now' 
                };
                State.historyLog.unshift(newHistory);
                UI.renderHistory();
            },

            animateCounter: function(id, start, end, duration) {
                const obj = document.getElementById(id);
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    obj.innerHTML = Math.floor(progress * (end - start) + start);
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            },

            save: function() {
                UI.showToast("Archived", "Solution saved to permanent memory.");
            },

            reset: function() {
                // Pick random challenge
                const available = DB.challenges.filter(c => c.id !== State.activeChallengeId);
                const next = available[Math.floor(Math.random() * available.length)];
                this.loadChallenge(next);
                UI.showToast("System Reset", "Next challenge loaded.");
            },

            toggleFullscreen: function() {
                const elem = document.getElementById('engine-frame');
                if (!document.fullscreenElement) {
                    elem.requestFullscreen().catch(err => {
                        console.error(err);
                    });
                } else {
                    document.exitFullscreen();
                }
            }
        };

        // --- SYSTEM CONTROLLER ---
        const System = {
            bootSequence: function() {
                console.log("MindShift OS: Booting...");
                
                // Initialize modules
                Visuals.initCanvas();
                Visuals.initTilt();
                
                UI.renderSkills();
                UI.renderLibrary();
                UI.renderLeaderboard();
                UI.renderHistory();
                
                Engine.init();

                // Setup Date
                const date = new Date().toISOString().split('T')[0].replace(/-/g, '.');
                document.getElementById('system-date').innerText = `DATE: ${date}`;

                // Reveal Animations (Intersection Observer)
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('opacity-100', 'translate-y-0');
                            entry.target.classList.remove('opacity-0', 'translate-y-12');
                        }
                    });
                }, { threshold: 0.1 });

                document.querySelectorAll('.reveal').forEach(el => {
                    el.classList.add('transition-all', 'duration-1000', 'transform', 'translate-y-12', 'opacity-0');
                    observer.observe(el);
                });

                this.log("System Initialized.");
            },

            toggleFocusMode: function() {
                State.isFocusMode = !State.isFocusMode;
                document.body.classList.toggle('focus-mode');
                const btnText = document.getElementById('focus-text');
                const btn = document.getElementById('focus-btn');
                
                if (State.isFocusMode) {
                    btnText.innerText = "ZEN: ON";
                    btn.classList.add('bg-neonBlue', 'text-black', 'border-neonBlue');
                    btn.classList.remove('bg-black/40', 'text-gray-400', 'border-gray-700');
                    UI.showToast("Zen Mode Active", "Visual noise reduced. Focus engaged.");
                    this.log("Focus Mode: ENABLED");
                } else {
                    btnText.innerText = "ZEN: OFF";
                    btn.classList.remove('bg-neonBlue', 'text-black', 'border-neonBlue');
                    btn.classList.add('bg-black/40', 'text-gray-400', 'border-gray-700');
                    this.log("Focus Mode: DISABLED");
                }
            },

            log: function(msg) {
                const consoleEl = document.getElementById('system-console');
                const line = document.createElement('div');
                line.innerText = `> ${msg}`;
                consoleEl.appendChild(line);
                consoleEl.scrollTop = consoleEl.scrollHeight;
            }
        };

    </script>
</body>
</html>